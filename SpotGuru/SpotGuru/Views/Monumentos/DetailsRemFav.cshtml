@using Microsoft.EntityFrameworkCore.Metadata.Internal
@model SpotGuru.Models.Monumentos

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Details</h1>

<div>
    <h4>Monumentos</h4>
    <hr />
    <link rel="stylesheet" href="/css/monumentDetails.css" />
    <div class="mon_details_section">
        @{
            string imagePath = "/images/monuments/" + Model.pathFoto;
        }
        <img class="img_mon_details" src=@imagePath alt="Not Found" />
        <dl class="row">
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Nome)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Nome)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Descrição)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Descrição)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Latitude)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Latitude)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Longitude)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Longitude)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Categoria)
            </dt> 
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Categoria)
            </dd>
        </dl>

        <div> 
            <a asp-action="DeleteFavorito" asp-route-id="@Model.Id">Remove from Favorites</a> |
            <a asp-action="AddReview" asp-route-id="@Model.Id">Add review</a> |
            <a asp-action="Horario" asp-route-id="@Model.Id">Show Schedule</a> |
             @{var url = "https://www.google.com/maps/place/" + Model.Latitude.ToString().Replace(',','.') +","+ Model.Longitude.ToString().Replace(',','.');}
            <a href=@url target="_blank">Get Directions</a>
        </div>
        <hr/>
    </div>

    <br>

    <div>
        <h4>Reviews</h4>

        <table class="table">
            <tr>
                <th>
                    @Html.DisplayName("Username")
                </th>
                <th>
                    @Html.DisplayName("Classificacao")
                </th>
                <th>
                    @Html.DisplayName("Comentario")
                </th>
            </tr>
        <tbody>

        @foreach (var item in Model.Reviews) {
                <tr>
                    <td>
                        @Html.DisplayFor(m => item.User.UserName)
                    </td>
                    <td>
                        @Html.DisplayFor(m => item.Classificacao)
                    </td>
                    <td>
                        @Html.DisplayFor(m => item.Comentario)
                    </td>
                </tr>
        }
            </tbody>
        </table>
    </div>
</div>
